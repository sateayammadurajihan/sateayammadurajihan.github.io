<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sate Ayam Madura Jihan</title>
  <link rel="icon" href="/static/image/favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="/static/style.css" />
  <script type="module" src="https://cdn.jsdelivr.net/gh/domyid/tracker@main/index.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body>
  <!-- Navbar -->
  <nav>
    <img src="/static/image/favicon.ico" alt="Logo" class="nav-logo" />
    <ul class="nav-list">
      <li><a href="#" class="nav-link active" data-target="homeSection">Home</a></li>
      <li><a href="#" class="nav-link" data-target="aboutSection">About</a></li>
      <li><a href="#" class="nav-link" data-target="testimonialsSection">Testimonials</a></li>
      <li><a href="#" class="nav-link" data-target="menuSection">Menu</a></li>
      <li><a href="#" class="nav-link cart-icon" data-target="checkoutSection"><i class="fas fa-shopping-cart"></i> <span id="cartCountNav">(0)</span></a></li>
      <li><a href="#" class="nav-link" data-target="loginSection"><i class="fas fa-sign-in-alt"></i> Login</a></li>
    </ul>
  </nav>

  <!-- Main Section -->
  <main>
    <section id="homeSection" class="page-section active">
      <div class="home-header">
        <img src="/static/image/home.jpg" alt="Sate Ayam Madura Jihan" class="home-image" />
        <div class="home-overlay"></div>
        <div class="home-header-text">
          <h1>Sate Ayam Madura Jihan</h1>
          <p>Lezat & Otentik, Sajian Sate Madura Asli</p>
          <a href="#menuSection" class="cta-button" data-target="menuSection">Lihat Menu</a>
        </div>
      </div>
    </section>

   <!-- About -->
    <section id="aboutSection" class="page-section">
      <div class="about-content">
        <h2 class="about-paragraph">Tentang Kami</h2>
        <p class="about-paragraph">
          Warung Sate Ayam Madura Jihan bukan sekadar tempat makan biasa. Sejak berdiri pada tahun 2000, kami telah menjadi bagian dari perjalanan kuliner banyak keluarga, teman, hingga komunitas yang mencari kelezatan sejati dari sate ayam Madura yang otentik.
        </p>
        <p class="about-paragraph">
          Didirikan dengan semangat melestarikan resep keluarga yang diwariskan turun-temurun, setiap tusuk sate yang kami sajikan diracik dari bahan-bahan segar pilihan.
        </p>
        <p class="about-paragraph">
          Kami percaya bahwa makanan bukan hanya soal rasa, tapi juga tentang momen kebersamaan yang tercipta di atas meja makan.
        </p>
        <p class="about-paragraph">
          Lebih dari 20 tahun kami berdiri, kami terus berinovasi tanpa menghilangkan keaslian cita rasa.
        </p>
        <p class="about-paragraph">
          Kami mengundang Anda untuk tidak hanya menikmati sate kami, tapi juga merasakan kehangatan tradisi yang kami bawa di setiap piring.
        </p>
        <p class="about-paragraph">
          <i class="fas fa-clock"></i> Jam Buka: Senin-Minggu, 17:00-00:00 WIB
        </p>
        <div class="about-gallery">
          <div class="about-gallery-item"><img src="/static/image/warung1.jpg" alt="Suasana warung 1"></div>
          <div class="about-gallery-item"><img src="/static/image/warung2.jpg" alt="Suasana warung 2"></div>
        </div>
        <a href="https://maps.app.goo.gl/bowe1AQ4xJP2FB3N8" target="_blank" class="map-link about-paragraph">
          <img src="/static/image/maps-preview.jpg" alt="Lokasi Sate Ayam Madura Jihan di Google Maps" class="map-image">
          <span>Lihat Lokasi Kami</span>
        </a>
      </div>
    </section> 

    <!-- Testimonials -->
    <section id="testimonialsSection" class="page-section">
      <nav class="testimonials-nav">
        <span class="testimonials-brand">Testimoni Pelanggan</span>
        <a href="#" class="testimonials-nav-link" onclick="document.getElementById('testimonialForm').scrollIntoView({ behavior: 'smooth' }); return false;">Beri Testimoni</a>
      </nav>
      <h2>Apa Kata Pelanggan Kami</h2>
      <div class="testimonials-form">
        <h3>Beri Kami Testimoni Anda</h3>
        <form id="testimonialForm">
          <div class="form-group">
            <label for="name">Nama:</label>
            <input type="text" id="name" name="name" required>
          </div>
          <div class="form-group">
            <label for="message">Pesan:</label>
            <textarea id="message" name="message" required></textarea>
          </div>
          <div class="form-group">
            <label for="rating">Rating:</label>
            <select id="rating" name="rating" required>
              <option value="1">★</option>
              <option value="2">★★</option>
              <option value="3">★★★</option>
              <option value="4">★★★★</option>
              <option value="5">★★★★★</option>
            </select>
          </div>
          <button type="submit" class="btn">Kirim Testimoni</button>
        </form>
      </div>
      <div id="testimonialsList" class="testimonials-grid"></div>
    </section>

    <!-- Menu Section -->
    <section id="menuSection" class="page-section">
      <h2>Menu Spesial</h2>
      <ul id="menuGrid" class="menu-grid" aria-label="Daftar menu"></ul>
    </section>

    <!-- Checkout Section -->
    <section id="checkoutSection" class="page-section">
      <h2>Keranjang Belanja</h2>
      <ul id="checkoutList" class="checkout-list"></ul>
      <p id="checkoutTotal">Total: Rp 0</p>
      <div class="checkout-buttons">
        <button id="checkoutBtn" class="btn">Checkout via WhatsApp</button>
        <button id="clearCartBtn" class="btn btn-secondary">Kosongkan Keranjang</button>
      </div>
    </section>

    <!-- Login Section (Internal Page) -->
    <section id="loginSection" class="page-section">
      <div class="login-form-container">
        <h2>Login</h2>
        <form method="POST" action="/login" class="auth-form">
          <input type="text" name="username" placeholder="Username atau Email" required />
          <input type="password" name="password" placeholder="Password" required />
          <button type="submit">Masuk</button>
          <p>Belum punya akun? <a href="#" id="showRegister">Daftar</a></p>
        </form>
      </div>
    </section>

    <section id="registerSection" class="page-section">
  <h2>Register</h2>
  <form method="POST" action="/register" class="auth-form">
    <input type="text" name="nama" placeholder="Nama Lengkap" required>
    <input type="text" name="username" placeholder="Username" required>
    <input type="email" name="email" placeholder="Email" required>
    <input type="password" name="password" placeholder="Password" required>
    <button type="submit">Daftar</button>
    <p>Sudah punya akun? <a href="#" id="showLogin">Login</a></p>
  </form>
</section>

    <!-- Floating Profile Icon (After Login Only) -->
    <div class="floating-login user-icon hidden" title="Akun Anda" style="cursor: pointer;">
      <i class="fas fa-user"></i>
    </div>

    <div id="userMenu" class="user-menu hidden">
      <div id="userMenuLogged">
        <p id="userMenuName">Halo, Username</p>
        <a href="/?target=checkoutSection">🛒 Keranjang</a>
        <a href="/?target=testimonialsSection">📝 Testimoni</a>
        <a href="/logout">🚪 Logout</a>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <p>© 2025 Warung Sate Ayam Madura Jihan</p>
      <div class="social-icons">
        <a href="https://www.instagram.com/sate_ayammaduraaaa" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="https://wa.me/6285759858593" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
      </div>
    </div>
  </footer>

  <script src="/static/js/scripts.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const userIcon = document.querySelector(".user-icon");
      const userMenu = document.getElementById("userMenu");
      const sessionUser = document.cookie.split(';').find(c => c.trim().startsWith("session_user="));
      if (sessionUser) {
        userIcon.classList.remove("hidden");
        const username = decodeURIComponent(sessionUser.split("=")[1]);
        document.getElementById("userMenuName").textContent = `Halo, ${username}`;
      }

      if (userIcon && userMenu) {
        userIcon.addEventListener("click", () => {
          userMenu.classList.toggle("hidden");
        });
      }
    });

    document.addEventListener("DOMContentLoaded", () => {
  const loginSection = document.getElementById("loginSection");
  const registerSection = document.getElementById("registerSection");

  document.body.addEventListener("click", (e) => {
    if (e.target.id === "showRegister") {
      e.preventDefault();
      loginSection.classList.remove("active");
      registerSection.classList.add("active");
    }

    if (e.target.id === "showLogin") {
      e.preventDefault();
      registerSection.classList.remove("active");
      loginSection.classList.add("active");
    }
  });
});

  </script>
</body>
</html>
